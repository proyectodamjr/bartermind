import"./modulepreload-polyfill-B5Qt9EMX.js";document.addEventListener("DOMContentLoaded",function(){const l="<%= nombreUsuario %>";document.getElementById("nombreUsuario").textContent=l;const p=document.getElementById("videos-btn"),u=document.getElementById("comments-btn"),a=document.querySelector(".videos"),m=document.querySelector(".comments"),d=document.getElementById("comentarios");p.addEventListener("click",function(){a.style.display="block",m.style.display="none"}),u.addEventListener("click",function(){a.style.display="none",m.style.display="block",fetch("/api/comentarios").then(n=>n.json()).then(n=>{d.innerHTML="",n.forEach(c=>{const o=document.createElement("div");o.className="comment d-flex justify-content-between align-items-center mb-3";const s=document.createElement("div"),i=document.createElement("h3");i.textContent=c.nombre;const r=document.createElement("p");if(r.textContent=c.comentario,s.appendChild(i),s.appendChild(r),o.appendChild(s),c.aceptado){const e=document.createElement("p");e.textContent="Aceptado",o.appendChild(e)}else{const e=document.createElement("button");e.textContent="Aceptar?",e.className="btn btn-outline-success ml-3",e.addEventListener("click",()=>{fetch(`/api/comentarios/aceptar/${c.id}`,{method:"POST",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{t.success&&swal({title:"Â¡Comentario aceptado!",text:t.message,icon:"success"}).then(()=>{e.remove()})}).catch(t=>console.error("Error accepting comment:",t))}),o.appendChild(e)}d.appendChild(o)})}).catch(n=>console.error("Error fetching comments:",n))})});
