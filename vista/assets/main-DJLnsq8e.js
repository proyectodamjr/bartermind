import{j as e,r as l,c as u,R as m,s as d}from"./sweetalert.min-EJX1vm67.js";/* empty css               */const p=({setResults:s})=>{const[t,a]=useState(""),r=o=>{fetch("/search",{method:"POST",body:JSON.stringify({query:o}),headers:{"Content-Type":"application/json"}}).then(c=>c.json()).then(c=>{const i=c.results.map(h=>h.nombre);s(i)})},n=o=>{a(o),o.trim()!==""?r(o):s([])};return e.jsxs("div",{className:"input-wrapper",children:[e.jsx(FaSearch,{id:"search-icon"}),e.jsx("input",{placeholder:"Buscar...",value:t,onChange:o=>n(o.target.value)})]})},j=({result:s})=>{const t=()=>{window.location.href=`/perfilUsuario.html?id=${s.id}`};return e.jsx("div",{className:"search-result",onClick:t,children:s.nombre})},x=({results:s})=>e.jsx("div",{className:"results-list",children:s.map(t=>e.jsx(j,{result:t},t.id))});function f(){const[s,t]=l.useState([]);return e.jsx("div",{className:"App",children:e.jsxs("div",{className:"search-bar-container",children:[e.jsx(p,{setResults:t}),s&&s.length>0&&e.jsx(x,{results:s})]})})}u.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(f,{})}));const v=({videoUrl:s})=>e.jsx("div",{className:"video-wrapper",children:e.jsx("video",{className:"video-player",controls:!0,children:e.jsx("source",{src:s,type:"video/mp4"})})}),N=()=>{const[s,t]=l.useState([]);l.useEffect(()=>{(async()=>{try{const c=(await(await fetch("/api/videos")).json()).videos.map(i=>({...i,enlace:`./uploads/${i.enlace}`}));t(c)}catch(n){console.error("Error fetching videos:",n)}})()},[]);const a=async r=>{try{const n=await fetch("/api/comentarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comentario:"Quiere hacer un Trueque contigo!",idCurso:r.idCurso,usuarios_id:r.usuarios_id,comentarista_id1:1,video_id:r.id})}),o=await n.json();n.ok?d("Â¡Comentario insertado!","El comentario se ha insertado correctamente.","success"):d("Error",o.message,"error")}catch(n){console.error("Error inserting comment:",n),d("Error","No se pudo insertar el comentario.","error")}};return e.jsx("div",{className:"container d-flex flex-column",children:s.map(r=>e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-8 col-lg-8 ",children:e.jsx("div",{className:"video-item w-100 d-flex flex-column justify-content-end mb-4 position-relative",children:e.jsx(v,{videoUrl:r.enlace})},r.id)}),e.jsxs("div",{className:"col-12 col-md-4 col-lg-4 mb-4",children:[e.jsx("h5",{children:r.titulo}),e.jsx("button",{className:"btn btn-primary",onClick:()=>a(r),children:"Trueque"})]})]}))})};function y(){return e.jsx("div",{className:"container-videos",children:e.jsx(N,{})})}u.createRoot(document.getElementById("rootVideo")).render(e.jsx(m.StrictMode,{children:e.jsx(y,{})}));
