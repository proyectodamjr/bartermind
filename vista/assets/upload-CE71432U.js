import{r as a,j as e,c as x,R as h}from"./client-CpnIEXJV.js";const j=({setResults:o})=>{const[d,m]=a.useState([]),[r,c]=a.useState(""),i=t=>{fetch("/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})}).then(n=>n.json()).then(n=>{}).catch(n=>{console.error("Error fetching data:",n)})};a.useEffect(()=>{i()},[]);const l=t=>{c(t.target.value),o([t.target.value]),i(t.target.value)};return e.jsx("div",{className:"input-wrapper",children:e.jsxs("select",{value:r,onChange:l,children:[e.jsx("option",{value:"",children:"Seleccione una opción"}),d.map(t=>e.jsx("option",{value:t.nombre,children:t.nombre},t.id))]})})},y=()=>{const[o,d]=a.useState(null),[m,r]=a.useState(""),[c,i]=a.useState(""),[l,t]=a.useState(""),n=s=>{d(s.target.files[0])},u=async()=>{if(!o)return;const s=new FormData;s.append("file",o),s.append("caption",c),s.append("category",l);try{const g=await(await fetch("/api/users/upload",{method:"POST",body:s})).json();r(g.message)}catch(p){console.error(p),r("Error uploading picture")}};return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 max-w-sm",children:[e.jsxs("div",{class:"mt-3",children:[e.jsx("label",{htmlFor:"file",className:"block text-sm font-medium text-gray-700",children:"Video"}),e.jsx("input",{type:"file",id:"file",name:"file",onChange:n,className:"focus:ring-indigo-500 focus:border-indigo-500 rounded-md sm:text-sm px-3 py-2 border border-gray-300"})]}),e.jsxs("div",{class:"mt-3",children:[e.jsx("label",{htmlFor:"caption",className:"block text-sm font-medium text-gray-700",children:"Título"}),e.jsx("input",{type:"text",id:"caption",name:"caption",value:c,onChange:s=>i(s.target.value),placeholder:"Título",className:"focus:ring-indigo-500 focus:border-indigo-500 rounded-md sm:text-sm px-3 py-2 border border-gray-300"})]}),e.jsxs("div",{class:"mt-3",children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Categoría"}),e.jsx("input",{type:"text",id:"category",name:"category",value:l,onChange:s=>t(s.target.value),placeholder:"categoría",className:"focus:ring-indigo-500 focus:border-indigo-500 rounded-md sm:text-sm px-3 py-2 border border-gray-300"}),e.jsx(j,{})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:u,disabled:!o,class:"btn btn-outline-primary mt-3",children:"Upload"})})]}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-500",children:m})})]})};function f(){return e.jsx("div",{class:"container",children:e.jsx("div",{class:"row justify-content-center",children:e.jsx(y,{})})})}x.createRoot(document.getElementById("uploadVideo")).render(e.jsx(h.StrictMode,{children:e.jsx(f,{})}));
